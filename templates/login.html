{% extends "base.html" %}

{% block title %}Sign In - TMHNA Financial Intelligence Portal{% endblock %}

{% block login_content %}
<div class="login-page">
    <aside class="login-sidebar">
        <div class="login-brand">
            <div class="login-brand-logo">FI</div>
            <h1>TMHNA Financial Intelligence</h1>
            <p>Unified data management and AI-powered analytics for Toyota Material Handling North America.</p>
        </div>
        
        <div class="login-features">
            <div class="login-feature">
                <div class="login-feature-icon">üìä</div>
                <div class="login-feature-text">
                    <div class="login-feature-title">Multi-ERP Integration</div>
                    <div class="login-feature-desc">Unified view across SAP, JDE, and iSeries systems</div>
                </div>
            </div>
            <div class="login-feature">
                <div class="login-feature-icon">ü§ñ</div>
                <div class="login-feature-text">
                    <div class="login-feature-title">AI-Powered Classification</div>
                    <div class="login-feature-desc">Automated GL account mapping with 89% precision</div>
                </div>
            </div>
            <div class="login-feature">
                <div class="login-feature-icon">‚ö†Ô∏è</div>
                <div class="login-feature-text">
                    <div class="login-feature-title">Anomaly Detection</div>
                    <div class="login-feature-desc">Real-time flagging of high-risk transactions</div>
                </div>
            </div>
            <div class="login-feature">
                <div class="login-feature-icon">üîí</div>
                <div class="login-feature-text">
                    <div class="login-feature-title">Role-Based Access</div>
                    <div class="login-feature-desc">Secure, persona-specific data views</div>
                </div>
            </div>
        </div>
    </aside>
    
    <main class="login-main">
        <div class="login-container">
            <div class="login-header">
                <h2>Select Your Role</h2>
                <p>Choose a persona to access the Financial Intelligence Portal</p>
            </div>
            
            <div class="persona-grid">
                {% for key, persona in personas.items() %}
                <div class="persona-card">
                    <div class="persona-header">
                        <div class="persona-avatar">
                            {% if persona.role == 'Controller' %}üë©‚Äçüíº{% else %}üë®‚Äçüíª{% endif %}
                        </div>
                        <div class="persona-info">
                            <h3>{{ persona.name }}</h3>
                            <div class="persona-role">{{ persona.role }}</div>
                            <div class="persona-company">{{ persona.company }}</div>
                        </div>
                    </div>
                    
                    <div class="persona-responsibilities">
                        <div class="persona-responsibilities-label">Key Responsibilities</div>
                        <ul>
                            {% for responsibility in persona.responsibilities %}
                            <li>{{ responsibility }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    
                    <form method="POST" action="{{ url_for('login') }}">
                        <input type="hidden" name="persona" value="{{ key }}">
                        <button type="submit" class="btn btn-primary btn-lg">
                            Continue as {{ persona.name.split()[0] }}
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                <polyline points="12 5 19 12 12 19"></polyline>
                            </svg>
                        </button>
                    </form>
                </div>
                {% endfor %}
            </div>
            
            <div class="login-footer">
                <p>This is a demonstration portal showcasing TMHNA's unified financial intelligence architecture.</p>
            </div>
        </div>
    </main>
</div>
{% endblock %}
